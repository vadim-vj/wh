# Парсер для <https://tenders.mts.ru/>

Требуемые пакеты указаны в [requirements.txt](requirements.txt).

Запуск скрипта:

```shell
$ python3 parser.py 6 2020
```

Здесь параметры после имени скрипта - это месяц и год. Результатом будет текстовый файл в той же директории, с названием, состоящим из месяца и года, например, `6_2020.txt`.

---

Внутри скрипта есть настраиваемые параметры:

- `limit` - количество тендоров, которые будут обработаны. По умолчанию `-1` - неограниченно
- `pause` - таймаут между запросами к страницам, в секундах. По умолчанию равен `1.0`

---

Как работает парсер:

- GET-запросом получает с главной страницы поле `__VIEWSTATE` из формы
- используя значение из этого поля, делает POST запрос с указанием нужного месяца и года
- получив список тендеров, вытягивает из него поля `date`, `href` и `title`
- используя полученный `href`, начинает (GET-ом) вытягивать страницы описания для каждого тендора. Интервал 1 секунда
- с этих страниц описания получает такие поля как "Ответственное лицо", "Дата публикации на сайте", и прочие
- с этих же страниц получает список приаттаченных файлов, если есть

---

В файле [7_2020.txt](7_2020.txt) - пример результата работы парсера.
